/*!
 * webTicker 2.2.0.2
 * Examples and documentation at:
 * http://jonmifsud.com/open-source/jquery/jquery-webticker/
 * 2011 Jonathan Mifsud
 * Version: 2.2.0.2 (22-JUN-2023)
 * Dual licensed under the Creative Commons and DonationWare licenses:
 * http://creativecommons.org/licenses/by-nc/3.0/
 * https://github.com/jonmifsud/Web-Ticker/blob/master/licence.md
 * Requires:
 * jQuery v1.4.2 or later
 * ChangeLog:
 * * 2.2.0.2 (22-JUN-2023) remove resize event which punch 100% CPU on browser windowresize
 * * 2.2.0.1 (15-FEB-2016/24-FEB-2017) make it stock ticker
 * * 2.2.0 fix 2nd line for 10k+ wide stripe, remove active console.log, remove Verdana font
 */
!function($){var cssTransitionsSupported=function(){var s=document.createElement("p").style,v=["ms","O","Moz","Webkit"];if(""===s.transition)return!0;for(;v.length;)if(v.pop()+"Transition"in s)return!0;return!1}();function getStripWidth($strip){var stripWidth=0;return $strip.children("li").each((function(){stripWidth+=$(this).outerWidth(!0)+7})),stripWidth}function getItemWidth($strip){return Math.max.apply(Math,$strip.children().map((function(){return $(this).width()})).get())}function animationSettings($strip){var settings=$strip.data("settings")||{direction:"left",speed:50},first=$strip.children().first(),distance=Math.abs(-$strip.css(settings.direction).replace("px","").replace("auto","0")-first.outerWidth(!0)),timeToComplete=1e3*distance/settings.speed,animationSettings={};return animationSettings[settings.direction]=$strip.css(settings.direction).replace("px","").replace("auto","0")-distance,{css:animationSettings,time:timeToComplete}}function moveFirstElement($strip){var settings=$strip.data("settings")||{direction:"left"};$strip.css("transition-duration","0s").css(settings.direction,"0");var $first=$strip.children().first();$first.hasClass("webticker-init")?$first.remove():$strip.children().last().after($first)}function scrollitems($strip,moveFirst){var settings=$strip.data("settings")||{direction:"left"};void 0===moveFirst&&(moveFirst=!1),moveFirst&&moveFirstElement($strip);var options=animationSettings($strip);$strip.animate(options.css,options.time,"linear",(function(){$strip.css(settings.direction,"0"),scrollitems($strip,!0)}))}function css3Scroll($strip,moveFirst){void 0===moveFirst&&(moveFirst=!1),moveFirst&&moveFirstElement($strip);var options=animationSettings($strip),time=options.time/1e3;time+="s",$strip.css(options.css).css("transition-duration",time)}function updaterss(rssurl,type,$strip){var list=[];$.get(rssurl,(function(data){var $xml;$(data).find("item").each((function(){var $this=$(this),item_title=$this.find("title").text(),item_link=$this.find("link").text(),listItem;list+='<li><a href="'+item_link+'"">'+item_title+"</a></li>"})),$strip.stockTicker("update",list,type)}))}function initialize($strip,init){if($strip.children("li").length<1)return!1;var settings=$strip.data("settings");settings.duplicateLoops=settings.duplicateLoops||0,$strip.width("auto");var stripWidth=0;$strip.children("li").each((function(){stripWidth+=$(this).outerWidth(!0)}));var height=$strip.find("li:first").height(),itemWidth;if(settings.duplicate){itemWidth=getItemWidth($strip);for(var duplicateLoops=0;stripWidth-itemWidth<$strip.parent().width()||1===$strip.children().length||duplicateLoops<settings.duplicateLoops;){var listItems=$strip.children().clone();$strip.append(listItems),stripWidth=0,stripWidth=getStripWidth($strip),itemWidth=getItemWidth($strip),duplicateLoops++}settings.duplicateLoops=duplicateLoops}else{var emptySpace=$strip.parent().width()-stripWidth;emptySpace+=$strip.find("li:first").width(),$strip.find(".ticker-spacer").length>0?$strip.find(".ticker-spacer").width(emptySpace):$strip.append('<li class="ticker-spacer" style="float: '+settings.direction+";width:"+emptySpace+"px;height:"+height+'px;"></li>')}settings.startEmpty&&init&&$strip.prepend('<li class="webticker-init" style="float: '+settings.direction+";width:"+$strip.parent().width()+"px;height:"+height+'px;"></li>'),stripWidth=0,stripWidth=getStripWidth($strip),$strip.width(stripWidth+200);var widthCompare=0;for(widthCompare=getStripWidth($strip);widthCompare>=$strip.width();)$strip.width($strip.width()+200),widthCompare=0,widthCompare=getStripWidth($strip);return!0}var methods={init:function(settings){return settings=jQuery.extend({speed:50,direction:"left",moving:!0,startEmpty:!0,duplicate:!1,rssurl:!1,hoverpause:!0,rssfrequency:0,updatetype:"reset",transition:"linear",height:"30px",maskleft:"",maskright:"",maskwidth:0},settings),this.each((function(){jQuery(this).data("settings",settings);var $strip=jQuery(this);$strip.addClass("stockticker");var $mask=$strip.wrap('<div class="mask"></div>'),$tickercontainer=$strip.parent().wrap('<div class="stock-ticker-container"></div>');$strip.children("li").css("white-space","nowrap"),$strip.children("li").css("float",settings.direction),$strip.children("li").css("padding","0 7px"),$mask.css("position","relative"),$mask.css("overflow","hidden"),$strip.closest(".tickercontainer").css("overflow","hidden"),$strip.css("float",settings.direction),$strip.css("position","relative"),$strip.css("list-style-type","none"),$strip.css("margin","0"),$strip.css("padding","0"),$strip.children("li").last().addClass("last");var started=initialize($strip,!0);settings.rssurl&&(updaterss(settings.rssurl,settings.type,$strip),settings.rssfrequency>0&&window.setInterval((function(){updaterss(settings.rssurl,settings.type,$strip)}),1e3*settings.rssfrequency*60)),cssTransitionsSupported?($strip.css("transition-timing-function",settings.transition),$strip.css("transition-duration","0s").css(settings.direction,"0"),started&&css3Scroll($strip,!1),$strip.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend",(function(event){if(!$strip.is(event.target))return!1;css3Scroll($(this),!0)}))):started&&scrollitems($(this)),settings.hoverpause&&$strip.hover((function(){if(cssTransitionsSupported){var currentPosition=$(this).css(settings.direction);$(this).css("transition-duration","0s").css(settings.direction,currentPosition)}else jQuery(this).stop()}),(function(){jQuery(this).data("settings").moving&&(cssTransitionsSupported?css3Scroll($(this),!1):scrollitems($strip))}))}))},stop:function(){var settings=$(this).data("settings");if(settings.moving)return settings.moving=!1,this.each((function(){if(cssTransitionsSupported){var currentPosition=$(this).css(settings.direction);$(this).css("transition-duration","0s").css(settings.direction,currentPosition)}else $(this).stop()}))},cont:function(){var settings=$(this).data("settings");if(!settings.moving)return settings.moving=!0,this.each((function(){cssTransitionsSupported?css3Scroll($(this),!1):scrollitems($(this))}))},transition:function(transition){var $strip=$(this);cssTransitionsSupported&&$strip.css("transition-timing-function",transition)},update:function(list,type,insert,remove){type=type||"reset",void 0===insert&&(insert=!0),void 0===remove&&(remove=!1),"string"==typeof list&&(list=$(list));var $strip=$(this);$strip.stockTicker("stop");var settings=$(this).data("settings");if("reset"===type)$strip.html(list),initialize($strip,!0);else if("swap"===type){var id,match,$listItem,stripWidth;if(window.console,$strip.children("li").length<1)$strip.html(list),$strip.css(settings.direction,"0"),initialize($strip,!0);else if(!0===settings.duplicate){$strip.children("li").addClass("old");for(var i=list.length-1;i>=0;i--)id=$(list[i]).data("update"),(match=$strip.find('[data-update="'+id+'"]')).length<1?insert&&(0===$strip.find(".ticker-spacer:first-child").length&&$strip.find(".ticker-spacer").length>0?$strip.children("li.ticker-spacer").before(list[i]):($listItem=$(list[i]),i===list.length-1&&$listItem.addClass("last"),$strip.find("last").after($listItem),$strip.find("last").removeClass("last"))):$strip.find('[data-update="'+id+'"]').replaceWith(list[i]);$strip.children("li.webticker-init, li.ticker-spacer").removeClass("old"),remove&&$strip.children("li").remove(".old"),stripWidth=0,stripWidth=getStripWidth($strip),$strip.width(stripWidth+200),$strip.find("li.webticker-init").length<1&&(settings.startEmpty=!1),$strip.html(list),$strip.children("li").css("white-space","nowrap"),$strip.children("li").css("float",settings.direction),$strip.children("li").css("padding","0 7px"),$strip.children("li").css("line-height",settings.height),initialize($strip,!0)}else{$strip.children("li").addClass("old");for(var x=0;x<list.length;x++)id=$(list[x]).data("update"),(match=$strip.find('[data-update="'+id+'"]')).length<1?insert&&(0===$strip.find(".ticker-spacer:first-child").length&&$strip.find(".ticker-spacer").length>0?$strip.children("li.ticker-spacer").before(list[x]):($listItem=$(list[x]),x===list.length-1&&$listItem.addClass("last"),$strip.find(".old.last").after($listItem),$strip.find(".old.last").removeClass("last"))):$strip.find('[data-update="'+id+'"]').replaceWith(list[x]);$strip.children("li.webticker-init, li.ticker-spacer").removeClass("old"),$strip.children("li").css("white-space","nowrap"),$strip.children("li").css("float",settings.direction),$strip.children("li").css("padding","0 7px"),$strip.children("li").css("line-height",settings.height),remove&&$strip.children("li").remove(".old"),stripWidth=0,stripWidth=getStripWidth($strip),$strip.width(stripWidth+200)}}$strip.stockTicker("cont")}};$.fn.stockTicker=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.stockTicker"):methods.init.apply(this,arguments)}}(jQuery);